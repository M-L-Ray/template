%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% PACKAGE IMPORTS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage[a4paper,tmargin=2cm,margin=0.85in,bmargin=2cm,footskip=.2in]{geometry}
\usepackage{geometry}
\geometry{a4paper,top=20mm,    bottom=20mm,left=21.6mm,right=21.6mm,footskip=.2in}%%电子版
%\geometry{a4paper,top=20mm,    bottom=20mm,left=25mm,right=21.6mm,footskip=.2in}%%打印版
%%%%%%%%%%%%%% 水印 %%%%%%%%%%%%%%
\usepackage{draftwatermark}         % 所有页加水印
\usepackage{xparse}
%\usepackage[firstpage]{draftwatermark} % 只有第一页加水印
\SetWatermarkText{MLR}           % 设置水印内容
%\SetWatermarkText{\includegraphics{fig/texlion.png}}         % 设置水印logo
\SetWatermarkLightness{0.975}             % 设置水印透明度 0-1
\SetWatermarkScale{1}
%%%%%%%%%%%%%% 页眉页脚 %%%%%%%%%%%%%%%
\usepackage{fancyhdr}
\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{\chaptername\ \thechapter.\ }#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection.\ #1}}
\fancyhf{}\setlength{\headheight}{30pt}
%%%%%%%%%%%%%% 电子版 %%%%%%%%%%%%%%
\fancyhead[L]{	\begin{minipage}[c]{0.1\textwidth}    \includegraphics[height=10mm]{figure/badge}\end{minipage}}
\fancyhead[C]{\leftmark}
\fancyhead[R]{-\ \thepage\ -}

%%%%%%%%%%%%%% 打印版 %%%%%%%%%%%%%%
%\fancyhead[LO]{\begin{minipage}[c]{0.1\textwidth}\includegraphics[height=10mm]{figure/badge.png}\end{minipage}}
%\fancyhead[RE]{	\begin{minipage}[c]{0.1\textwidth}    \includegraphics[height=10mm]{figure/badge.png}\end{minipage}\hspace{1.65cm}}
%\fancyhead[CE]{\leftmark}
%\fancyhead[CO]{\rightmark}
%\fancyhead[RO,LE]{-\ \thepage\ -}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\fancypagestyle{plain}{\fancyhf{}
\fancyfoot[C]{-\ \thepage\ -}
\renewcommand{\headrulewidth}{0pt}}
\fancypagestyle{headings}{\fancyhf{}
	\fancyfoot[C]{-\ \thepage\ -}
\renewcommand{\headrulewidth}{0pt}}
\fancypagestyle{empty}{\fancyhf{}
	\fancyfoot[C]{-\ \thepage\ -}
	\renewcommand{\headrulewidth}{0pt}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{chngcntr}  % for resetting counters
\usepackage[all]{xy}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage[UTF8]{ctex}
\usepackage{titlesec}
\usepackage{mathrsfs}
\usepackage{rotating}
\usepackage{ulem}
\usepackage{bbm}
\usepackage{enumerate}
\usepackage{graphicx}
\titleformat{\chapter}[display]{\bfseries\Huge
}{Chapter\,\thechapter}{0pt}{}
\titlespacing{\chapter}{0pt}{-20pt}{0pt}
% Define a new counter for questions within sections
\usepackage{amsmath,amsfonts,amsthm,amssymb,mathtools}
\usepackage{xfrac}
\usepackage[makeroom]{cancel}
\usepackage{mathtools}
\usepackage{bookmark}
\usepackage{enumitem}
\usepackage{hyperref,theoremref}
\usepackage[most,many,breakable]{tcolorbox}
\usepackage{xcolor}
\usepackage{varwidth}
\usepackage{etoolbox}
%\usepackage{authblk}
\usepackage{nameref}
\usepackage{multicol,multirow,array}
\usepackage{tikz-cd}
\usepackage[ruled,vlined,linesnumbered]{algorithm2e}
\usepackage{comment} % enables the use of multi-line comments (\ifx \fi) 
\usepackage{import}
\usepackage{xifthen}
\usepackage{pifont}
\usepackage{pdfpages}
\usepackage{ifpdf}\ifpdf\usepackage{transparent}\fi
\renewcommand{\proofname}{\textbf{Proof}}
\newcommand\mycommfont[1]{\footnotesize\ttfamily\textcolor{blue}{#1}}
\SetCommentSty{mycommfont}
\newcommand{\incfig}[1]{%
    \def\svgwidth{\columnwidth}
    \import{./figures/}{#1.pdf_tex}
}

\usepackage{tikzsymbols}
\usepackage{fontawesome5}
\renewcommand\qedsymbol{\faDiceD20}
%\usepackage{import}
%\usepackage{xifthen}
%\usepackage{pdfpages}
%\usepackage{transparent}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SELF MADE COLORS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\definecolor{myg}{RGB}{56, 140, 70}
\definecolor{myb}{RGB}{45, 111, 177}
\definecolor{mytheoremfr}{HTML}{6B0395}
\definecolor{mylemmafr}{HTML}{AE0000}
\definecolor{mypropfr}{HTML}{45A0CC}
\definecolor{myexamplefr}{HTML}{000000}
\definecolor{myexampleti}{HTML}{000000}
\definecolor{mydefinitfr}{RGB}{2,49,102}
\definecolor{notesgreen}{RGB}{0,162,0}
\definecolor{mypfr}{HTML}{006699}
\definecolor{mygr}{HTML}{2C3338}
\definecolor{myred}{RGB}{127,0,0}
\definecolor{myyellow}{RGB}{169,121,69}
\definecolor{myexercisefg}{HTML}{88D6D1}
\definecolor{mynotefr}{HTML}{666666}
\definecolor{bg@main}{RGB}{254,216,71}
\definecolor{bg@second}{RGB}{249,241,179}
\definecolor{bg@third}{RGB}{247,234,156}
\definecolor{text@main}{RGB}{254,216,71}
\definecolor{text@second}{RGB}{2,49,102}
\definecolor{text@third}{RGB}{162,148,65}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TCOLORBOX SETUPS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%================================
% THEOREM BOX
%================================
\tcbuselibrary{theorems,skins,hooks}
\newtcbtheorem[number within=section]{Theorem}{Theorem}
{%
	enhanced,
	breakable,
	opacityback=0,
	frame hidden,
	boxrule = 0sp,
	borderline west = {2pt}{0pt}{mytheoremfr},
	sharp corners,
	detach title,
	before upper = \tcbtitle\par\smallskip,
	coltitle = mytheoremfr,
	fonttitle = \bfseries\sffamily,
	description font = \mdseries,
	separator sign none,
	segmentation style={solid, mytheoremfr},
    label={th:\thetcbcounter}
}
{th}

\tcbuselibrary{theorems,skins,hooks}
\newtcolorbox{Theoremcon}
{%
	enhanced
	,breakable
	,frame hidden
	,boxrule = 0sp
	,borderline west = {2pt}{0pt}{mytheoremfr}
	,sharp corners
	,description font = \mdseries
	,separator sign none
}
%================================
% Corollery
%================================
\tcbuselibrary{theorems,skins,hooks}
\newtcbtheorem[number within=section]{Corollary}{Corollary}
{%
	enhanced
	,breakable
	,opacityback=0
	,frame hidden
	,boxrule = 0sp
	,borderline west = {2pt}{0pt}{mypfr}
	,sharp corners
	,detach title
	,before upper = \tcbtitle\par\smallskip
	,coltitle = mypfr
	,fonttitle = \bfseries\sffamily
	,description font = \mdseries
	,separator sign none
	,segmentation style={solid, myp!85!black}
}{cor}
\tcbuselibrary{theorems,skins,hooks}
%================================
% lemMA
%================================

\tcbuselibrary{theorems,skins,hooks}
\newtcbtheorem[number within=section]{Lemma}{Lemma}
{%
	enhanced,
	breakable,
	opacityback=0,
	frame hidden,
	boxrule = 0sp,
	borderline west = {2pt}{0pt}{mylemmafr},
	sharp corners,
	detach title,
	before upper = \tcbtitle\par\smallskip,
	coltitle = mylemmafr,
	fonttitle = \bfseries\sffamily,
	description font = \mdseries,
	separator sign none,
	segmentation style={solid, mylemmafr},
    label={lem:\thetcbcounter}
}
{lem}

\tcbuselibrary{theorems,skins,hooks}
\newtcbtheorem[number within=section]{lemma}{Lemma}
{%
	enhanced,
	breakable,
	opacityback=0,
	frame hidden,
	boxrule = 0sp,
	borderline west = {2pt}{0pt}{mylemmafr},
	sharp corners,
	detach title,
	before upper = \tcbtitle\par\smallskip,
	coltitle = mylemmafr,
	fonttitle = \bfseries\sffamily,
	description font = \mdseries,
	separator sign none,
	segmentation style={solid, mylemmafr},
    label={lem:\thetcbcounter}
}
{lem}


%================================
% PROPOSITION
%================================

\tcbuselibrary{theorems,skins,hooks}
\newtcbtheorem[number within=section]{Prop}{Proposition}
{%
	enhanced,
	breakable,	
	opacityback=0,
	frame hidden,
	boxrule = 0sp,
	borderline west = {2pt}{0pt}{mypropfr},
	sharp corners,
	detach title,
	before upper = \tcbtitle\par\smallskip,
	coltitle = mypropfr,
	fonttitle = \bfseries\sffamily,
	description font = \mdseries,
	separator sign none,
	segmentation style={solid, mypropfr},
    label={prop:\thetcbcounter}
}
{prop}
%================================
% conclusion
%================================

\tcbuselibrary{theorems,skins,hooks}
\newtcbtheorem[number within=section]{conclusion}{Conclusion}
{%
	enhanced
	,breakable
	,opacityback=0
	,frame hidden
	,boxrule = 0sp
	,borderline west = {2pt}{0pt}{myg}
	,sharp corners
	,detach title
	,before upper = \tcbtitle\par\smallskip
	,coltitle = myg!85!black
	,fonttitle = \bfseries\sffamily
	,description font = \mdseries
	,separator sign none
	,segmentation style={solid, myg!85!black}
    label={con:\thetcbcounter}
}
{con}
%================================
% Exercise
%================================
\definecolor{myr}{RGB}{163, 33, 53}
\newtcbtheorem{exercise}{Exercise}{enhanced,
	breakable,
	colback=white,
	colframe=myr,
		opacityback=0,
	attach boxed title to top left={yshift*=-\tcboxedtitleheight},
	fonttitle=\bfseries,
	title={#2},
	boxed title size=title,
	boxed title style={%
			sharp corners,
			rounded corners=northwest,
			colback=tcbcolframe,
			boxrule=0pt,
		},
	underlay boxed title={%
			\path[fill=tcbcolframe] (title.south west)--(title.south east)
			to[out=0, in=180] ([xshift=5mm]title.east)--
			(title.center-|frame.east)
			[rounded corners=\kvtcb@arc] |-
			(frame.north) -| cycle;
		},
	#1
}{th}
\makeatother

%================================
% EXAMPLE BOX
%================================

\newtcbtheorem[number within=section]{Example}{Example}
{%
	enhanced,
	breakable,
	opacityback=0,
	frame hidden,
	boxrule = 0sp,
	borderline west = {2pt}{0pt}{myexamplefr},
	sharp corners,
	detach title,
	before upper = \tcbtitle\par\smallskip,
	coltitle = myexamplefr,
	fonttitle = \bfseries\sffamily,
	description font = \mdseries,
	separator sign none,
	segmentation style={solid, myexamplefr},
    label={ex:\thetcbcounter}
}
{ex}
%================================
% DEFINITION BOX
%================================

\tcbuselibrary{theorems,skins,hooks}
\newtcbtheorem[number within=section]{Definition}{Definition}
{%
	enhanced,
	unbreakable,
	opacityback=0,
	frame hidden,
	boxrule = 0sp,
	borderline west = {2pt}{0pt}{mydefinitfr!80},
	sharp corners,
	detach title,
	before upper = \tcbtitle\par\smallskip,
	coltitle = mydefinitfr!80,
	fonttitle = \bfseries\sffamily,
	description font = \mdseries,
	separator sign none,
	segmentation style={solid, mydefinitfr},
    label={def:\thetcbcounter}
}
{def}

\tcbuselibrary{theorems,skins,hooks}
%================================
% Solution BOX
%================================
\newcounter{questionn}[section]
\makeatletter
\newtcolorbox[use counter=questionn]{question}[2][]{%
    enhanced,
    unbreakable,
    colback=white,
    opacityback=0,
    colframe=myr,
    opacityframe=0,
    borderline={1pt}{0pt}{myr},
    attach boxed title to top left={yshift*=-\tcboxedtitleheight},
    fonttitle=\bfseries,
    title={Question \arabic{questionn}: #2},
    boxed title size=title,
    boxed title style={%
        sharp corners,
        rounded corners=northwest,
        colback=myr,
        boxrule=0pt,
    },
    underlay boxed title={%
        \path[fill=myr] (title.south west)--(title.south east)
        to[out=0, in=180] ([xshift=5mm]title.east)--
        (title.center-|frame.east)
        [rounded corners=\kvtcb@arc] |-
        (frame.north) -| cycle;
    },
    #1
}
\makeatother
%================================
% SOLUTION BOX
%================================

\makeatletter
\newtcolorbox{solution}{enhanced,
	breakable,
	colback=white,
	colframe=myg!80!black,
	attach boxed title to top left={yshift*=-\tcboxedtitleheight},
	title=Solution,
	boxed title size=title,
	boxed title style={%
			sharp corners,
			rounded corners=northwest,
			colback=tcbcolframe,
			boxrule=0pt,
		},
	underlay boxed title={%
			\path[fill=tcbcolframe] (title.south west)--(title.south east)
			to[out=0, in=180] ([xshift=5mm]title.east)--
			(title.center-|frame.east)
			[rounded corners=\kvtcb@arc] |-
			(frame.north) -| cycle;
		},
}
\makeatother

%================================
% Question BOX
%================================

\makeatletter
\newtcbtheorem[number format=\arabic]{Question}{enhanced,
	breakable,
	colback=white,
	colframe=myr,
	attach boxed title to top left={yshift*=-\tcboxedtitleheight},
	fonttitle=\bfseries,
	title={#2},
	boxed title size=title,
	boxed title style={%
			sharp corners,
			rounded corners=northwest,
			colback=tcbcolframe,
			boxrule=0pt,
		},
	underlay boxed title={%
			\path[fill=tcbcolframe] (title.south west)--(title.south east)
			to[out=0, in=180] ([xshift=5mm]title.east)--
			(title.center-|frame.east)
			[rounded corners=\kvtcb@arc] |-
			(frame.north) -| cycle;
		},
	#1
}{th}
\makeatother

\newtcbtheorem[number within=section]{wconc}{Wrong Concept}{
	breakable,
	enhanced,
	colback=white,
	colframe=myr,
	arc=0pt,
	outer arc=0pt,
	fonttitle=\bfseries\sffamily\large,
	colbacktitle=myr,
	attach boxed title to top left={},
	boxed title style={
			enhanced,
			skin=enhancedfirst jigsaw,
			arc=3pt,
			bottom=0pt,
			interior style={fill=myr}
		},
	#1
}{def}



%================================
% NOTE BOX
%================================
\tcbuselibrary{theorems,skins,hooks}
\newtcbtheorem[number within=section]{note}{Remark}
{%
	enhanced,
	breakable,
	opacityback=0,
	frame hidden,
	boxrule = 0sp,
	borderline west = {2pt}{0pt}{mynotefr},
	sharp corners,
	detach title,
	before upper = \tcbtitle\par\smallskip,
	coltitle = mynotefr,
	fonttitle = \bfseries\sffamily,
	description font = \mdseries,
	separator sign none,
	segmentation style={solid, mynotefr},
    label={rmk:\thetcbcounter}
}
{rmk}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SELF MADE COMMANDS

\newtcbtheorem[number within=section]{axiom}{Axiom}
{%
	enhanced,
	breakable,
	opacityback=0,
	frame hidden,
	boxrule = 0sp,
	borderline west = {2pt}{0pt}{mynotefr},
	sharp corners,
	detach title,
	before upper = \tcbtitle\par\smallskip,
	coltitle = mynotefr,
	fonttitle = \bfseries\sffamily,
	description font = \mdseries,
	separator sign none,
	segmentation style={solid, mynotefr},
    label={ax:\thetcbcounter}
}
{ax}
\newtcbtheorem[number within=section]{claim}{Claim}
{%
	enhanced,
	breakable,
	opacityback=0,
	frame hidden,
	boxrule = 0sp,
	borderline west = {2pt}{0pt}{mynotefr},
	sharp corners,
	detach title,
	before upper = \tcbtitle\par\smallskip,
	coltitle = mynotefr,
	fonttitle = \bfseries\sffamily,
	description font = \mdseries,
	separator sign none,
	segmentation style={solid, mynotefr},
    label={clm:\thetcbcounter}
}
{clm}
\newcommand{\Section}[1]{%
    \refstepcounter{section}%
    \section*{*\thesection\quad #1}%
    \addcontentsline{toc}{section}{\protect\numberline{*\thesection}#1}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\ax}[2]{\begin{axiom}{#1}{}#2\end{axiom}}
\newcommand{\thm}[2]{\begin{Theorem}{#1}{}#2\end{Theorem}}
\newcommand{\cor}[2]{\begin{Corollary}{#1}{}#2\end{Corollary}}
\newcommand{\mlemma}[2]{\begin{lemma}{#1}{}#2\end{lemma}}
\newcommand{\mprop}[2]{\begin{Prop}{#1}{}#2\end{Prop}}
\newcommand{\cl}[2]{\begin{claim}{#1}{}#2\end{claim}}
\newcommand{\clu}[2]{\begin{conclusion}{#1}{}#2\end{conclusion}}
\newcommand{\wc}[2]{\begin{wconc}{#1}{}\setlemgth{\parindent}{1cm}#2\end{wconc}}
\newcommand{\thmcon}[1]{\begin{Theoremcon}{#1}\end{Theoremcon}}
\newcommand{\ex}[2]{\begin{Example}{#1}{}#2\end{Example}}
\newcommand{\dfn}[2]{\begin{Definition}{#1}{}#2\end{Definition}}
\newcommand{\qs}[2]{\begin{question}{#1}{}#2\end{question}}
\newcommand{\sol}{\setlength{\parindent}{0cm}\textbf{\textit{Sol:}}\setlength{\parindent}{1cm} }
\newcommand{\pf}[2]{\begin{myproof}[#1]#2\end{myproof}}
\newcommand{\nt}[2]{\begin{note}{#1}{}#2\end{note}}
\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
		\node[shape=circle,draw,inner sep=1pt] (char) {#1};}}
\newcommand\getcurrentref[1]{%
	\ifnumequal{\value{#1}}{0}
	{??}
	{\the\value{#1}}%
}
\newcommand{\getCurrentSectionNumber}{\getcurrentref{section}}
\newenvironment{myproof}[1][\proofname]{%
	\proof[\bfseries #1: ]%
}{\endproof}

\newcommand{\mclm}[2]{\begin{myconclusion}[#1]#2\end{myconclusion}}
\newenvironment{myconclusion}[1][\conclusionname]{\proof[\bfseries #1: ]}{}
\newcounter{mylabelcounter}

\makeatletter
\newcommand{\setword}[2]{%
	\phantomsection
	#1\def\@currentlabel{\unexpanded{#1}}\label{#2}%
}
\makeatother

\tikzset{
	symbol/.style={
			draw=none,
			every to/.append style={
					edge node={node [sloped, allow upside down, auto=false]{$#1$}}}
		}
}

% deliminators
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}

\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\DeclarePairedDelimiter{\round}{\lfloor}{\rceil}

\newsavebox\diffdbox
\newcommand{\slantedromand}{{\mathpalette\makesl{d}}}
\newcommand{\makesl}[2]{%
\begingroup
\sbox{\diffdbox}{$\mathsurround=0pt#1\mathrm{#2}$}%
\pdfsave
\pdfsetmatrix{1 0 0.2 1}%
\rlap{\usebox{\diffdbox}}%
\pdfrestore
\hskip\wd\diffdbox
\endgroup
}
\newcommand{\dd}[1][]{\ensuremath{\mathop{}\!\ifstrempty{#1}{%
\slantedromand\@ifnextchar^{\hspace{0.2ex}}{\hspace{0.1ex}}}%
{\slantedromand\hspace{0.2ex}^{#1}}}}
\ProvideDocumentCommand\dv{o m g}{%
  \ensuremath{%
    \IfValueTF{#3}{%
      \IfNoValueTF{#1}{%
        \frac{\dd #2}{\dd #3}%
      }{%
        \frac{\dd^{#1} #2}{\dd #3^{#1}}%
      }%
    }{%
      \IfNoValueTF{#1}{%
        \frac{\dd}{\dd #2}%
      }{%
        \frac{\dd^{#1}}{\dd #2^{#1}}%
      }%
    }%
  }%
}
\providecommand*{\pdv}[3][]{\frac{\partial^{#1}#2}{\partial#3^{#1}}}
%  - others
\usepackage{yhmath}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\let\oldleq\leq 
\let\oldgeq\geq
\renewcommand{\leq}{\leqslant}
\renewcommand{\geq}{\geqslant}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TABLE OF CONTENTS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{subfigure}
\usepackage{caption}
\usepackage{tikz}

\def\maketitle{%
	\titlepage
	\begin{tikzpicture}[remember picture, overlay]
		\def\textnode[##1]##2;{
			\node[anchor=west,align=left,##1]##2;
		}
		\fill[left color = bg@second] (current page.north west) rectangle (current page.south east);
		\fill[bg@main] (current page.south east) rectangle ++(-0.9\paperwidth, 0.69\paperheight)coordinate(t1);
		\fill[bg@third] (t1) rectangle ++(-0.1\paperwidth, -0.137\paperheight);
		\draw[white, very thick] (current page.north west) ++ (.1\paperwidth, 0) -- ++ (0, -\paperheight);
		\draw[white, very thick] (current page.north west) ++ (0, -.31\paperheight) -- ++ (\paperwidth, 0);
		\draw[white, very thick] (current page.north west) ++ (0, -.447\paperheight) -- ++ (.1\paperwidth, 0);
		\textnode[text = text@third, font = \LARGE] at ([shift = {(.1\paperwidth + .5cm, -.95cm)}]current page.north west) {系列};
		\textnode[text = text@main, scale = 5, anchor = north east] at ([]current page.north east) {系列缩写};
		\textnode[text = text@second, anchor =south west,scale = 2.4] at ([xshift = .5cm,yshift=.5cm]t1) {作者};
		\textnode[text = text@second, anchor = north west, scale = 6] at ([xshift = 0cm]t1) {标题};
		\textnode[anchor = south east, scale = 2] at ([shift ={(-1,1)}]current page.south east) {\faSkullCrossbones{} Math};
	\end{tikzpicture}
	\endtitlepage
}
\definecolor{doc}{RGB}{2,49,102}
\usepackage{titletoc}
\contentsmargin{1cm}
\titlecontents{chapter}[6.0pc]
{\addvspace{30pt}%
	\begin{tikzpicture}[remember picture, overlay]%
		\draw[fill=doc!60,draw=doc!60] (-5,-.1) rectangle (-.3,.55);%
		\pgftext[left,x=-3.3cm,y=0.2cm]{\color{white}\Large\sc\bfseries Chapter\ \thecontentslabel};%
\end{tikzpicture}\color{text@second}\Large\sc\bfseries}%
{}
{}
{\;\titlerule\;\large\sc\bfseries Page \thecontentspage
	\begin{tikzpicture}[remember picture, overlay]
		\draw[fill=doc!60,draw=doc!60] (2pt,0) rectangle (4,0.1pt);
	\end{tikzpicture}}%
\titlecontents{section}[6pc]
{\addvspace{2pt}}
{\contentslabel[\thecontentslabel]{2pc}}
{}
{\hfill \thecontentspage}
[]
\titlecontents*{subsection}[3.7pc]
{\addvspace{-1pt}\small}
{}
{}
{\ --- \small\thecontentspage}
[ \textbullet\ ][]

\makeatletter
\renewcommand{\tableofcontents}{%	
	\chapter*{%
	  \vspace*{-20\p@}%	
	  \begin{tikzpicture}[remember picture, overlay]%
		  \pgftext[right,x=15cm,y=0.2cm]{\color{doc!60}\Huge\sc\bfseries \contentsname};%
		  \draw[fill=doc!60,draw=doc!60] (13,-.75) rectangle (21,1.2);%
		  \clip (13,-.75) rectangle (23,1);
		  \pgftext[right,x=15cm,y=0.2cm]{\color{white}\Huge\sc\bfseries \contentsname};%
	  \end{tikzpicture}
  	}%
  	\markboth{目录}{}
	\@starttoc{toc}}
\makeatother
